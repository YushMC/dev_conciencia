import{_ as te}from"./BwnSBdYK.js";import{m as ae,r as l,C as z,g as E,u as oe,D as le,p as se,q as ne,K as ie,G as re,w as ue,X as de,J as ve,o as s,a as t,x as v,c as n,B as m,A as y,Q as ce,s as u,v as b,Y as C,t as G,L as j,F as pe,M as me,z as F,H as fe,S as q}from"./DMN4r0H2.js";import{_ as ge}from"./BPFZBWCM.js";import{h as L,v as A}from"./jtEgsSNN.js";import{_ as _e}from"./DlAUqK2U.js";const ye={class:"container_login"},be={id:"content_info"},Ce={key:0},we={key:1},he={key:0,style:{margin:"2% 0",opacity:"0.5"}},ke={key:0},Ue={key:1},Ve={class:"container_form"},Ie={class:"container_input"},xe={class:"container_input"},Se={class:"container_input"},Pe={class:"container_input"},Ee={class:"container_imagen"},Fe={id:"container_buttos_file"},Le={key:0,id:"previewImg"},Ae=["src"],Ne={key:0},Be={key:1,class:"container_input"},De=["value"],Me={class:"container_input"},Te={class:"container_input"},Re={class:"container_input"},ze={style:{color:"red","margin-top":"1%"}},Ge={key:0},je=["type"],qe=["src"],He={class:"container_input"},Je={style:{color:"red","margin-top":"1%"}},Ke={key:0},Oe=["type"],$e=["src"],Qe={class:"container_input"},We={class:"container_input"},Xe=["type"],Ye=["src"],Ze=ae({__name:"index",setup(et){const f=l("Iniciar Sesión");z({title:f.value}),E(f,i=>{z({title:f.value})});const{setToken:N}=oe(),{apiUrl:H}=fe(),B=le(),d=l(!1),a=l(new de),g=l(""),w=l(!1),h=l(!1),k=l(!1),J=()=>{w.value=!w.value},K=()=>{h.value=!h.value},O=()=>{k.value=!k.value},D=l(!1),U=l(!1);E(g,i=>{g.value!==a.value.password?U.value=!0:U.value=!1});const $=()=>{d.value=!d.value,d.value?f.value="Crear Cuenta":f.value="Iniciar Sesión"},M=se(),Q=async()=>{if(!a.value.user.trim()||!a.value.password.trim()){q.fire({title:"Error",text:"Por favor, llena todos los campos.",icon:"error"});return}await M.login(a.value),N(),B.push("/cuenta")},r=l([]),W=()=>{r.value=[],a.value.email.trim()||r.value.push("El correo electrónico es obligatorio."),a.value.password.trim()||r.value.push("La contraseña es obligatoria."),a.value.name.trim()||r.value.push("El nombre es obligatorio."),a.value.phone.trim()||r.value.push("El teléfono es obligatorio."),a.value.birthdate.trim()||r.value.push("La fecha de nacimiento es obligatoria."),a.value.state.trim()||r.value.push("El estado es obligatorio."),a.value.city.trim()||r.value.push("La ciudad es obligatoria."),_.value===null&&r.value.push("No hay archivo"),r.value.length===0?X():q.fire({title:"Error",text:"Por favor, llena los campos.",icon:"error"})},X=async()=>{if(a.value.password===g.value){if(!_.value){window.alert("Por favor, selecciona una imagen antes de continuar.");return}await M.register(a.value,_.value),N()}},c=l(null),_=l(null),V=l(null),I=l(""),x=l(!1);E(I,(i,e)=>{x.value=!x.value});const Y=i=>{const e=i.target;if(e.files&&e.files.length>0){const p=e.files[0];if(!p.type.startsWith("image/")){window.alert("Por favor, selecciona un archivo de imagen válido.");return}_.value=p,I.value=p.name;const o=new FileReader;o.onload=()=>{c.value=o.result},o.readAsDataURL(p)}},Z=()=>{c.value=null,_.value=null,V.value&&(V.value.value="",I.value="Seleccionar archivo")},T=()=>{var i;(i=V.value)==null||i.click()},S=l("0");ne(()=>{navigator.userAgent.indexOf("Firefox")!==-1?S.value="22rem":S.value="1rem"});const R=l([]),P=l(!0);l(!1);const ee=async()=>{const i=await ve(H.value+"/state/list","$oi7KDaL8Js");if(i.error)return P.value=!0,!1;i.data.value&&(R.value=i.data.value.states),P.value=!1};return ie(()=>{ee()}),(i,e)=>{const p=te;return s(),re(p,null,{default:ue(()=>[t("main",ye,[t("section",be,[t("picture",{onClick:e[0]||(e[0]=o=>v(B).push("/")),style:{cursor:"pointer"}},e[11]||(e[11]=[t("img",{src:ge,alt:""},null,-1)])),t("h2",null,[d.value?(s(),n("span",we,"Bienvenido a Conciencia del Ser Divino!")):(s(),n("span",Ce,"Bienvenido de vuelta!"))]),e[12]||(e[12]=t("p",null," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi, aliquid. ",-1)),d.value?m("",!0):(s(),n("h5",he," Si no tienes cuenta, registrate! ")),t("button",{onClick:$,class:"signUp"},[d.value?(s(),n("span",Ue,"Iniciar Sesión")):(s(),n("span",ke,"Crear Cuenta"))])]),t("div",Ve,[t("form",{action:"",id:"signUp",class:y({active:d.value}),style:ce({paddingTop:S.value})},[e[25]||(e[25]=t("h4",null,"Crear Cuenta",-1)),t("div",Ie,[u(t("input",{type:"text",id:"name","onUpdate:modelValue":e[1]||(e[1]=o=>a.value.name=o),placeholder:"Ingresa tu Nombre"},null,512),[[b,a.value.name]]),e[13]||(e[13]=t("label",{for:"name"}," Nombre ",-1))]),t("div",xe,[u(t("input",{type:"email",id:"correo","onUpdate:modelValue":e[2]||(e[2]=o=>a.value.email=o),placeholder:"Ingresa tu Correo Electrónico"},null,512),[[b,a.value.email]]),e[14]||(e[14]=t("label",{for:"correo"}," Correo Electrónico ",-1))]),t("div",Se,[u(t("input",{type:"text",id:"tel","onUpdate:modelValue":e[3]||(e[3]=o=>a.value.phone=o),placeholder:"Ingresa un Número Telefónico"},null,512),[[b,a.value.phone]]),e[15]||(e[15]=t("label",{for:"tel"}," Teléfono ",-1))]),t("div",Pe,[t("div",Ee,[t("div",Fe,[e[16]||(e[16]=t("label",{for:""},"Imagen de Perfil",-1)),t("button",{onClick:C(T,["prevent"]),id:"selector_archivo",class:y({loaded:x.value})},G(I.value||"Seleccionar archivo"),3),t("input",{type:"file",accept:"image/*",onChange:Y,ref_key:"fileInput",ref:V,style:{display:"none"}},null,544),c.value?(s(),n("button",{key:0,onClick:C(T,["prevent"]),id:"cambiar"}," Cambiar archivo ")):m("",!0),c.value?(s(),n("button",{key:1,onClick:C(Z,["prevent"]),id:"eliminar"}," Cancelar ")):m("",!0)]),c.value?(s(),n("div",Le,[e[17]||(e[17]=t("h5",null,"Vista Previa:",-1)),t("img",{src:c.value,alt:"Previsualización de la imagen"},null,8,Ae)])):m("",!0)]),e[18]||(e[18]=t("label",{for:"",style:{"margin-top":"2%"}},"Foto de Perfil",-1))]),P.value?(s(),n("div",Ne,"Cargando")):(s(),n("div",Be,[u(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.state=o)},[(s(!0),n(pe,null,me(R.value,o=>(s(),n("option",{value:o.id,key:o.id},G(o.name),9,De))),128))],512),[[j,a.value.state]]),e[19]||(e[19]=t("label",{for:""},"Estado:",-1))])),t("div",Me,[u(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.city=o)},e[20]||(e[20]=[t("option",{value:"Guadalajara"},"Guadalajara",-1)]),512),[[j,a.value.city]]),e[21]||(e[21]=t("label",{for:""},"Ciudad:",-1))]),e[26]||(e[26]=t("label",{for:"",style:{"text-align":"left"}},"Fecha de Nacimiento",-1)),t("div",Te,[u(t("input",{type:"date",id:"date","onUpdate:modelValue":e[6]||(e[6]=o=>a.value.birthdate=o),placeholder:""},null,512),[[b,a.value.birthdate]]),e[22]||(e[22]=t("label",{for:"date"}," Fecha de Nacimiento ",-1))]),t("div",Re,[t("h6",ze,[U.value?(s(),n("span",Ge,"La contraseña debe tener al menos 6 caracteres.")):m("",!0)]),u(t("input",{type:h.value?"text":"password",id:"contra2","onUpdate:modelValue":e[7]||(e[7]=o=>a.value.password=o),placeholder:"Ingresa tu Contraseña",class:y({error:D.value}),minlength:"6",pattern:""},null,10,je),[[F,a.value.password]]),t("img",{src:h.value?v(L):v(A),alt:"icono",class:"icon_eye",onClick:K},null,8,qe),e[23]||(e[23]=t("label",{for:"contra2"},"Contraseña",-1))]),t("div",He,[t("h6",Je,[U.value?(s(),n("span",Ke,"La contraseña debe tener al menos 6 caracteres.")):m("",!0)]),u(t("input",{type:k.value?"text":"password",id:"contra3","onUpdate:modelValue":e[8]||(e[8]=o=>g.value=o),placeholder:"Repite tu Contraseña",class:y({error:D.value}),minlength:"6"},null,10,Oe),[[F,g.value]]),t("img",{src:k.value?v(L):v(A),alt:"icono",class:"icon_eye",onClick:O},null,8,$e),e[24]||(e[24]=t("label",{for:"contra3"},"Repetir Contraseña",-1))]),t("button",{class:"signUp",onClick:C(W,["prevent"])}," Crear Cuenta ")],6),t("form",{action:"",id:"logIn",class:y({active:!d.value})},[e[29]||(e[29]=t("h4",null,"Iniciar Sesión",-1)),t("div",Qe,[u(t("input",{type:"text",id:"user","onUpdate:modelValue":e[9]||(e[9]=o=>a.value.user=o),placeholder:"Ingresa tu Usuario"},null,512),[[b,a.value.user]]),e[27]||(e[27]=t("label",{for:"user"},"Usuario",-1))]),t("div",We,[u(t("input",{type:w.value?"text":"password",id:"contra1","onUpdate:modelValue":e[10]||(e[10]=o=>a.value.password=o),placeholder:"Ingresa tu Contraseña"},null,8,Xe),[[F,a.value.password]]),t("img",{src:w.value?v(L):v(A),alt:"icono",class:"icon_eye",onClick:J},null,8,Ye),e[28]||(e[28]=t("label",{for:"contra1"},"Contraseña",-1))]),t("button",{onClick:C(Q,["prevent"]),class:"signUp"},"Entrar")],2)])])]),_:1})}}}),nt=_e(Ze,[["__scopeId","data-v-368a5bb4"]]);export{nt as default};
