import{m as K,r as l,D as A,g as P,u as O,E as Q,p as Y,G as Z,c as i,a as t,x as v,B as c,A as y,s as r,v as b,W as _,t as ee,L as G,z as E,X as te,o as s,S as R}from"./DaxeL5pv.js";import{_ as ae}from"./D7kRNJFc.js";import{v as L,h as N}from"./jtEgsSNN.js";import{_ as oe}from"./DlAUqK2U.js";const le={class:"container_login"},ie={id:"content_info"},se={key:0},ne={key:1},re={key:0,style:{margin:"2% 0",opacity:"0.5"}},ue={key:0},de={key:1},ve={class:"container_form"},pe={class:"container_input"},ce={class:"container_input"},me={class:"container_input"},fe={class:"container_input"},ge={class:"container_imagen"},ye={id:"container_buttos_file"},be={key:0,id:"previewImg"},_e=["src"],Ce={class:"container_input"},we={class:"container_input"},he={class:"container_input"},ke={class:"container_input"},Ve={style:{color:"red","margin-top":"1%"}},Ie={key:0},Ue=["type"],xe=["src"],Se={class:"container_input"},Pe={style:{color:"red","margin-top":"1%"}},Ee={key:0},Le=["type"],Ne=["src"],Fe={class:"container_input"},Me={class:"container_input"},Be=["type"],De=["src"],Ae=K({__name:"index",setup(Ge){const m=l("Iniciar Sesión");A({title:m.value}),P(m,d=>{A({title:m.value})});const{setToken:F}=O(),M=Q(),u=l(!1),a=l(new te),f=l(""),C=l(!1),w=l(!1),h=l(!1),T=()=>{C.value=!C.value},j=()=>{w.value=!w.value},z=()=>{h.value=!h.value},B=l(!1),k=l(!1);P(f,d=>{f.value!==a.value.password?k.value=!0:k.value=!1});const J=()=>{u.value=!u.value,u.value?m.value="Crear Cuenta":m.value="Iniciar Sesión"},V=Y(),W=async()=>{if(!a.value.user.trim()||!a.value.password.trim()){R.fire({title:"Error",text:"Por favor, llena todos los campos.",icon:"error"});return}await V.login(a.value),F(V.token??""),M.push("/cuenta")},n=l([]),q=()=>{n.value=[],a.value.email.trim()||n.value.push("El correo electrónico es obligatorio."),a.value.password.trim()||n.value.push("La contraseña es obligatoria."),a.value.name.trim()||n.value.push("El nombre es obligatorio."),a.value.phone.trim()||n.value.push("El teléfono es obligatorio."),a.value.birthdate.trim()||n.value.push("La fecha de nacimiento es obligatoria."),a.value.state.trim()||n.value.push("El estado es obligatorio."),a.value.city.trim()||n.value.push("La ciudad es obligatoria."),g.value===null&&n.value.push("No hay archivo"),n.value.length===0?H():R.fire({title:"Error",text:"Por favor, llena los campos.",icon:"error"})},H=async()=>{if(a.value.password===f.value){if(!g.value){window.alert("Por favor, selecciona una imagen antes de continuar.");return}await V.register(a.value,g.value),F(V.token??"")}},p=l(null),g=l(null),I=l(null),U=l(""),x=l(!1);P(U,(d,e)=>{x.value=!x.value});const X=d=>{const e=d.target;if(e.files&&e.files.length>0){const o=e.files[0];if(!o.type.startsWith("image/")){window.alert("Por favor, selecciona un archivo de imagen válido.");return}g.value=o,U.value=o.name;const S=new FileReader;S.onload=()=>{p.value=S.result},S.readAsDataURL(o)}},$=()=>{p.value=null,g.value=null,I.value&&(I.value.value="",U.value="Seleccionar archivo")},D=()=>{var d;(d=I.value)==null||d.click()};return Z(()=>{}),(d,e)=>(s(),i("main",le,[t("section",ie,[t("picture",{onClick:e[0]||(e[0]=o=>v(M).push("/")),style:{cursor:"pointer"}},e[11]||(e[11]=[t("img",{src:ae,alt:""},null,-1)])),t("h2",null,[u.value?(s(),i("span",ne,"Bienvenido a Conciencia del Ser Divino!")):(s(),i("span",se,"Bienvenido de vuelta!"))]),e[12]||(e[12]=t("p",null," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi, aliquid. ",-1)),u.value?c("",!0):(s(),i("h5",re," Si no tienes cuenta, registrate! ")),t("button",{onClick:J,class:"signUp"},[u.value?(s(),i("span",de,"Iniciar Sesión")):(s(),i("span",ue,"Crear Cuenta"))])]),t("div",ve,[t("form",{action:"",id:"signUp",class:y({active:u.value})},[e[26]||(e[26]=t("h4",null,"Crear Cuenta",-1)),t("div",pe,[r(t("input",{type:"text",id:"name","onUpdate:modelValue":e[1]||(e[1]=o=>a.value.name=o),placeholder:"Ingresa tu Nombre"},null,512),[[b,a.value.name]]),e[13]||(e[13]=t("label",{for:"name"}," Nombre ",-1))]),t("div",ce,[r(t("input",{type:"email",id:"correo","onUpdate:modelValue":e[2]||(e[2]=o=>a.value.email=o),placeholder:"Ingresa tu Correo Electrónico"},null,512),[[b,a.value.email]]),e[14]||(e[14]=t("label",{for:"correo"}," Correo Electrónico ",-1))]),t("div",me,[r(t("input",{type:"text",id:"tel","onUpdate:modelValue":e[3]||(e[3]=o=>a.value.phone=o),placeholder:"Ingresa un Número Telefónico"},null,512),[[b,a.value.phone]]),e[15]||(e[15]=t("label",{for:"tel"}," Teléfono ",-1))]),t("div",fe,[t("div",ge,[t("div",ye,[e[16]||(e[16]=t("label",{for:""},"Imagen de Perfil",-1)),t("button",{onClick:_(D,["prevent"]),id:"selector_archivo",class:y({loaded:x.value})},ee(U.value||"Seleccionar archivo"),3),t("input",{type:"file",accept:"image/*",onChange:X,ref_key:"fileInput",ref:I,style:{display:"none"}},null,544),p.value?(s(),i("button",{key:0,onClick:_(D,["prevent"]),id:"cambiar"}," Cambiar archivo ")):c("",!0),p.value?(s(),i("button",{key:1,onClick:_($,["prevent"]),id:"eliminar"}," Cancelar ")):c("",!0)]),p.value?(s(),i("div",be,[e[17]||(e[17]=t("h5",null,"Vista Previa:",-1)),t("img",{src:p.value,alt:"Previsualización de la imagen"},null,8,_e)])):c("",!0)]),e[18]||(e[18]=t("label",{for:"",style:{"margin-top":"2%"}},"Foto de Perfil",-1))]),t("div",Ce,[r(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.state=o)},e[19]||(e[19]=[t("option",{value:"Jalisco"},"Jalisco",-1),t("option",{value:"Guanajuato"},"Guanajuato",-1),t("option",{value:"Michoacan"},"Michoacán",-1)]),512),[[G,a.value.state]]),e[20]||(e[20]=t("label",{for:""},"Estado:",-1))]),t("div",we,[r(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.city=o)},e[21]||(e[21]=[t("option",{value:"Guadalajara"},"Guadalajara",-1)]),512),[[G,a.value.city]]),e[22]||(e[22]=t("label",{for:""},"Ciudad:",-1))]),e[27]||(e[27]=t("label",{for:"",style:{"text-align":"left"}},"Fecha de Nacimiento",-1)),t("div",he,[r(t("input",{type:"date",id:"date","onUpdate:modelValue":e[6]||(e[6]=o=>a.value.birthdate=o),placeholder:""},null,512),[[b,a.value.birthdate]]),e[23]||(e[23]=t("label",{for:"date"}," Fecha de Nacimiento ",-1))]),t("div",ke,[t("h6",Ve,[k.value?(s(),i("span",Ie,"La contraseña debe tener al menos 6 caracteres.")):c("",!0)]),r(t("input",{type:w.value?"text":"password",id:"contra2","onUpdate:modelValue":e[7]||(e[7]=o=>a.value.password=o),placeholder:"Ingresa tu Contraseña",class:y({error:B.value}),minlength:"6",pattern:""},null,10,Ue),[[E,a.value.password]]),t("img",{src:w.value?v(L):v(N),alt:"icono",class:"icon_eye",onClick:j},null,8,xe),e[24]||(e[24]=t("label",{for:"contra2"},"Contraseña",-1))]),t("div",Se,[t("h6",Pe,[k.value?(s(),i("span",Ee,"La contraseña debe tener al menos 6 caracteres.")):c("",!0)]),r(t("input",{type:h.value?"text":"password",id:"contra3","onUpdate:modelValue":e[8]||(e[8]=o=>f.value=o),placeholder:"Repite tu Contraseña",class:y({error:B.value}),minlength:"6"},null,10,Le),[[E,f.value]]),t("img",{src:h.value?v(L):v(N),alt:"icono",class:"icon_eye",onClick:z},null,8,Ne),e[25]||(e[25]=t("label",{for:"contra3"},"Repetir Contraseña",-1))]),t("button",{class:"signUp",onClick:_(q,["prevent"])}," Crear Cuenta ")],2),t("form",{action:"",id:"logIn",class:y({active:!u.value})},[e[30]||(e[30]=t("h4",null,"Iniciar Sesión",-1)),t("div",Fe,[r(t("input",{type:"text",id:"user","onUpdate:modelValue":e[9]||(e[9]=o=>a.value.user=o),placeholder:"Ingresa tu Usuario"},null,512),[[b,a.value.user]]),e[28]||(e[28]=t("label",{for:"user"},"Usuario",-1))]),t("div",Me,[r(t("input",{type:C.value?"text":"password",id:"contra1","onUpdate:modelValue":e[10]||(e[10]=o=>a.value.password=o),placeholder:"Ingresa tu Contraseña"},null,8,Be),[[E,a.value.password]]),t("img",{src:C.value?v(L):v(N),alt:"icono",class:"icon_eye",onClick:T},null,8,De),e[29]||(e[29]=t("label",{for:"contra1"},"Contraseña",-1))]),t("button",{onClick:_(W,["prevent"]),class:"signUp"},"Entrar")],2)])]))}}),Je=oe(Ae,[["__scopeId","data-v-1679f5a4"]]);export{Je as default};
